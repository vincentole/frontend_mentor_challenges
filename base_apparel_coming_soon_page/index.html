<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- displays site properly based on user's device -->
        <link rel="stylesheet" href="./css/style.css">
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="./images/favicon-32x32.png"
        />

        <title>Frontend Mentor | Base Apparel coming soon page</title>
    </head>
    <body class="preload">
        <div class="logo-container margin-wrap-lf">
            <img src="./images/logo.svg" alt="logo" />
        </div>
        <main class="margin-wrap-lf">
            <h1><span>We're</span>coming soon</h1>
            <p>
                Hello fellow shoppers! We're currently building our new fashion
                store. Add your email below to stay up-to-date with
                announcements and our launch deals.
            </p>
            <form action="" name="email-form" id="form">
                <input id="email" name="email" type="email" placeholder="Email Address" />
                <img class="error-icon" src="./images/icon-error.svg" alt="" />
                <button type="submit"><img src="./images/icon-arrow.svg" alt=""/></button>
                <small>Please provide a valid email</small>
            </form>
        </main>
        <div class="hero-img bg-img"></div>
        <script>
          // Prevent animation on page load
          setTimeout( () => document.body.classList.remove("preload"), 500);

          // Form validation
          const form = document.getElementById("form");
          const email = document.getElementById("email");

          form.addEventListener("submit", e => {
            e.preventDefault();
            const emailVal = email.value;

            if (!validateEmail(emailVal)) {
              form.classList.add("error");

            } else {
              form.classList.remove("error");
            }
          });
          
          const validateEmail = (email) => {
            var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email));
          };

        </script>
    </body>
</html>
